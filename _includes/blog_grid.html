{% if site.posts.size > 0 %}
  <div class="posts-grid">
    {% for post in site.posts limit:6 %}
      <article class="post-preview">
        <h3><a href="{{ post.link | default: post.url }}" {% if post.link %}target="_blank" rel="noopener noreferrer"{% endif %}>{{ post.title }}</a></h3>
        <p class="post-meta">{{ post.date | date: "%B %d, %Y" }}</p>
        <p>{{ post.excerpt | strip_html | truncate: 150 }}</p>
        <a href="{{ post.link | default: post.url }}" {% if post.link %}target="_blank" rel="noopener noreferrer"{% endif %} class="read-more">View on GitHub →</a>
      </article>
    {% endfor %}
  </div>
{% else %}
  {% assign posts = site.posts | limit: 6 %}
{% if posts.size > 0 %}
<div class="posts-grid">
  {% for post in posts %}
  <div class="post-preview">
    <h3><a href="{{ post.link | default: post.url | relative_url }}" {% if post.link %}target="_blank" rel="noopener noreferrer"{% endif %}>{{ post.title }}</a></h3>
    <p class="post-meta">{{ post.date | date: "%B %d, %Y" }}</p>
    <p>{{ post.excerpt | strip_html | truncatewords: 30 }}</p>
    <a href="{{ post.link | default: post.url | relative_url }}" {% if post.link %}target="_blank" rel="noopener noreferrer"{% endif %} class="read-more">View on GitHub →</a>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="posts-grid">
  <p class="no-posts">No blog posts yet. Check back soon!</p>
</div>
{% endif %}
{% endif %}